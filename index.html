<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      body {
        margin: 8px;
        width: 1000px;
      }
      .cell {
        width: 5rem;
        height: 5rem;
        display: inline-block;
      }
      .black {
        background-color: black;
      }
      .white {
        background-color: white;
      }
      .container {
        position: absolute;
        margin-left: 30%;
        width: 670px;
        border: solid 0.1rem black;
      }
      .figure {
        width: 5rem;
        height: 5rem;
      }
    </style>
    <div class="container">
      <div class="cell black" id="c81" onclick="divClick(this)"></div>
      <div class="cell white" id="c82" onclick="divClick(this)"></div>
      <div class="cell black" id="c83" onclick="divClick(this)"></div>
      <div class="cell white" id="c84" onclick="divClick(this)"></div>
      <div class="cell black" id="c85" onclick="divClick(this)"></div>
      <div class="cell white" id="c86" onclick="divClick(this)"></div>
      <div class="cell black" id="c87" onclick="divClick(this)"></div>
      <div class="cell white" id="c88" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell white" id="c71" onclick="divClick(this)"></div>
      <div class="cell black" id="c72" onclick="divClick(this)"></div>
      <div class="cell white" id="c73" onclick="divClick(this)"></div>
      <div class="cell black" id="c74" onclick="divClick(this)"></div>
      <div class="cell white" id="c75" onclick="divClick(this)"></div>
      <div class="cell black" id="c76" onclick="divClick(this)"></div>
      <div class="cell white" id="c77" onclick="divClick(this)"></div>
      <div class="cell black" id="c78" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell black" id="c61" onclick="divClick(this)"></div>
      <div class="cell white" id="c62" onclick="divClick(this)"></div>
      <div class="cell black" id="c63" onclick="divClick(this)"></div>
      <div class="cell white" id="c64" onclick="divClick(this)"></div>
      <div class="cell black" id="c65" onclick="divClick(this)"></div>
      <div class="cell white" id="c66" onclick="divClick(this)"></div>
      <div class="cell black" id="c67" onclick="divClick(this)"></div>
      <div class="cell white" id="c68" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell white" id="c51" onclick="divClick(this)"></div>
      <div class="cell black" id="c52" onclick="divClick(this)"></div>
      <div class="cell white" id="c53" onclick="divClick(this)"></div>
      <div class="cell black" id="c54" onclick="divClick(this)"></div>
      <div class="cell white" id="c55" onclick="divClick(this)"></div>
      <div class="cell black" id="c56" onclick="divClick(this)"></div>
      <div class="cell white" id="c57" onclick="divClick(this)"></div>
      <div class="cell black" id="c58" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell black" id="c41" onclick="divClick(this)"></div>
      <div class="cell white" id="c42" onclick="divClick(this)"></div>
      <div class="cell black" id="c43" onclick="divClick(this)"></div>
      <div class="cell white" id="c44" onclick="divClick(this)"></div>
      <div class="cell black" id="c45" onclick="divClick(this)"></div>
      <div class="cell white" id="c46" onclick="divClick(this)"></div>
      <div class="cell black" id="c47" onclick="divClick(this)"></div>
      <div class="cell white" id="c48" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell white" id="c31" onclick="divClick(this)"></div>
      <div class="cell black" id="c32" onclick="divClick(this)"></div>
      <div class="cell white" id="c33" onclick="divClick(this)"></div>
      <div class="cell black" id="c34" onclick="divClick(this)"></div>
      <div class="cell white" id="c35" onclick="divClick(this)"></div>
      <div class="cell black" id="c36" onclick="divClick(this)"></div>
      <div class="cell white" id="c37" onclick="divClick(this)"></div>
      <div class="cell black" id="c38" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell black" id="c21" onclick="divClick(this)"></div>
      <div class="cell white" id="c22" onclick="divClick(this)"></div>
      <div class="cell black" id="c23" onclick="divClick(this)"></div>
      <div class="cell white" id="c24" onclick="divClick(this)"></div>
      <div class="cell black" id="c25" onclick="divClick(this)"></div>
      <div class="cell white" id="c26" onclick="divClick(this)"></div>
      <div class="cell black" id="c27" onclick="divClick(this)"></div>
      <div class="cell white" id="c28" onclick="divClick(this)"></div>
      <div style="clear: both"></div>
      <div class="cell white" id="c11" onclick="divClick(this)"></div>
      <div class="cell black" id="c12" onclick="divClick(this)"></div>
      <div class="cell white" id="c13" onclick="divClick(this)"></div>
      <div class="cell black" id="c14" onclick="divClick(this)"></div>
      <div class="cell white" id="c15" onclick="divClick(this)"></div>
      <div class="cell black" id="c16" onclick="divClick(this)"></div>
      <div class="cell white" id="c17" onclick="divClick(this)"></div>
      <div class="cell black" id="c18" onclick="divClick(this)"></div>
    </div>
    <script>
      //Get index from play ground and delete
      function ClearBoard() {
        for (let i = 1; i <= 8; i++) {
          for (let j = 1; j <= 8; j++) {
            let elements = document.querySelectorAll("#c" + i + j);
            for (let element of elements) {
              element.innerHTML = "";
            }
          }
        }
      }
      //Figure constructor
      class ChessFigure {}
      class RookB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/rookB.png" />';
      }
      class RookW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/rookW.png" />';
      }
      class KnightB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/knightB.png" />';
      }
      class KnightW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/knightW.png" />';
      }
      class BishopB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/bishopB.png" />';
      }
      class BishopW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/bishopW.png" />';
      }

      class KingB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/kingB.png" />';
      }
      class KingW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/kingW.png" />';
      }
      class QueenB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/queenB.png" />';
      }
      class QueenW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/queenW.png" />';
      }
      class PawnB extends ChessFigure {
        player = 1;
        image = '<img class="figure" src="chess/pawnB.png" />';
      }
      class PawnW extends ChessFigure {
        player = 2;
        image = '<img class="figure" src="chess/pawnW.png" />';
      }
      let A = [];
      for (let i = 1; i <= 8; i++) {
        A[i] = [];
        for (let j = 1; j <= 8; j++) {
          A[i][j] = undefined;
        }
      }
      //Start positions
      A[8][1] = new RookB();
      A[8][8] = new RookB();

      A[1][1] = new RookW();
      A[1][8] = new RookW();

      A[8][2] = new KnightB();
      A[8][7] = new KnightB();

      A[1][2] = new KnightW();
      A[1][7] = new KnightW();

      A[8][3] = new BishopB();
      A[8][6] = new BishopB();

      A[1][3] = new BishopW();
      A[1][6] = new BishopW();

      A[8][4] = new KingB();
      A[1][4] = new KingW();

      A[8][5] = new QueenB();
      A[1][5] = new QueenW();

      A[7][1] = new PawnB();
      A[7][2] = new PawnB();
      A[7][3] = new PawnB();
      A[7][4] = new PawnB();
      A[7][5] = new PawnB();
      A[7][6] = new PawnB();
      A[7][7] = new PawnB();
      A[7][8] = new PawnB();

      A[2][1] = new PawnW();
      A[2][2] = new PawnW();
      A[2][3] = new PawnW();
      A[2][4] = new PawnW();
      A[2][5] = new PawnW();
      A[2][6] = new PawnW();
      A[2][7] = new PawnW();
      A[2][8] = new PawnW();
      //Function who set position by checking given index
      function FillBoard() {
        ClearBoard();
        for (let i = 1; i <= 8; i++) {
          for (let j = 1; j <= 8; j++) {
            if (A[i][j] != undefined) {
              if (A[i][j] instanceof ChessFigure) {
                let elements = document.querySelectorAll("#c" + i + j);
                for (let element of elements) {
                  element.innerHTML = A[i][j].image;
                }
              }
            }
            let elements = document.querySelectorAll("#c" + i + j);
            for (let element of elements) {
              element.style.removeProperty("background");
            }
            if (+oldY == i && +oldX == j) {
              let elements = document.querySelectorAll("#c" + i + j);
              for (let element of elements) {
                element.style.background = "green";
              }
            }
          }
        }
      }

      FillBoard();
      var oldX = -1,
        oldY = -1;
      var player = 1; // Black

      // function who lets me move my playground
      function divClick(a) {
        if (oldX == -1) {
          oldX = a.id[2];
          oldY = a.id[1];
          FillBoard();
        } else {
          A[a.id[1]][a.id[2]] = A[oldY][oldX];
          A[oldY][oldX] = undefined;
          oldX = -1;
          oldY = -1;
          FillBoard();
        }
      }
    </script>
  </body>
</html>
